:root {
  --accent:#ff7043;
  --bg:#0f0f0f;
  --card:#1c1c1c;
  --text:#fff;
  --muted:#ccc;
  --shadow:rgba(0,0,0,0.4);
  --shadow-accent:rgba(255,112,67,0.5);
}

body {
  font-family:system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:1rem;
  min-height:100svh;
}

h1 { color:var(--accent); margin-bottom:.5rem; }

#controls {
  display:flex; flex-wrap:wrap; justify-content:center;
  gap:.5rem; margin-bottom:.75rem; width:100%; max-width:960px;
}
input[type=text] {
  background:#222; color:var(--text);
  border:none; border-radius:8px; padding:.45rem .6rem; font-size:.9rem;
}
#playlistIdInput { flex:1 1 320px; min-width:240px; }
#searchInput { flex:0 1 220px; }

button {
  background:var(--accent); color:#fff; border:none; border-radius:8px;
  padding:.45rem .8rem; font-size:.9rem; cursor:pointer;
  transition:background .2s;
}
button:hover { background:#ff5722; }

#sourceTag,#playlistMeta {
  width:100%; max-width:960px; text-align:center;
  font-size:.85rem; margin-bottom:.35rem; color:var(--muted);
}

#playlist {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:.8rem; width:100%; max-width:960px;
  transition:all .2s ease-in-out; min-height:120px;
}

.video {
  background:var(--card); border-radius:10px; overflow:hidden;
  box-shadow:0 2px 6px var(--shadow);
  transition:transform .2s, box-shadow .2s;
}
.video:hover {
  transform:translateY(-3px);
  box-shadow:0 4px 12px var(--shadow-accent);
}
.thumb { width:100%; aspect-ratio:16/9; object-fit:cover; }
.title {
  padding:.4rem .5rem .6rem;
  font-size:.8rem; white-space:nowrap;
  overflow:hidden; text-overflow:ellipsis;
}
a { color:inherit; text-decoration:none; }

.loading::after {
  content:"⏳"; margin-left:8px; animation:spin 1.2s linear infinite;
}
@keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }

#playerOverlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  align-items:center; justify-content:center;
  z-index:9999; padding:1rem;
}

/* ---------- Mini Player ---------- */
#playerCard {
  background:#111;
  width:min(92vw,860px);
  aspect-ratio:16/9;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.6);
  position:relative;
  overflow:hidden;
  transition:all .35s ease;
}

/* iframe always fills whatever shape the playerCard takes */
#playerFrame {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:0;
  background:#000;
  transform-origin:center center;
  transition:transform .35s ease;
}

/* --- Zoom Modes --- */
#playerCard.zoom-fill {
  aspect-ratio:14/9;             /* slightly taller */
  width:min(95vw,880px);
}
#playerCard.zoom-fill #playerFrame {
  transform:scale(1.15);
}

#playerCard.zoom-portrait {
  aspect-ratio:9/16;             /* tall portrait */
  width:min(65vw,480px);
}
#playerCard.zoom-portrait #playerFrame {
  transform:scale(1.5);
}

/* --- Close & Zoom Controls --- */
#playerClose {
  position:absolute; 
  top:8px; right:8px;
  background:rgba(0,0,0,.6);
  border:1px solid #444; color:#fff;
  border-radius:999px; padding:6px 10px;
  cursor:pointer; z-index:5;
}

/* ⬇️ Pin zoom controls to bottom of the screen, not inside card */
#zoomControls {
  position:fixed;           /* was absolute */
  bottom:12px; left:50%;
  transform:translateX(-50%);
  display:flex; gap:.5rem;
  z-index:10001;            /* above overlay & iframe */
}

#zoomControls button {
  background:rgba(255,255,255,0.15);
  color:#fff; font-size:.8rem;
  padding:4px 8px;
  border:1px solid rgba(255,255,255,0.2);
  border-radius:6px;
  cursor:pointer;
  backdrop-filter:blur(4px);
}
#zoomControls button:hover { background:rgba(255,255,255,0.3); }

/* Small-screen tweaks for Rabbit R1 */
@media (max-width:260px){
  #zoomControls {
    bottom:6px;
    gap:4px;
  }
  #zoomControls button {
    font-size:.7rem;
    padding:2px 4px;
  }
  #playerClose { top:4px; right:4px; padding:4px 8px; }
}
